let bkgr = document.querySelector("header");
let decor01 = document.createElement("div");
if (bkgr) {
	bkgr.append(decor01);
	decor01.style.cssText=`position:absolute;z-index:-3;border-radius:500px;background:#5531D2;height:668px;width:668px;left:-280px;top:-14px;`
	decor01 = document.createElement("div");
	bkgr.append(decor01);
	decor01.style.cssText=`position:absolute;z-index:-3;border-radius:500px;background:#E7CDFC;height:103px;width:103px;left:calc(50% + (1698px - 970px + 52px));top: -3px;opacity:30%;`
	decor01 = document.createElement("div");
	bkgr.append(decor01);
	decor01.style.cssText=`position:absolute;z-index:-3;border-radius:500px;background:#5531D2;height:20px;width:20px;left:calc(50% + (1590px - 970px + 10px));top:211px;opacity:30%;`
	decor01 = document.createElement("div");
	bkgr.append(decor01);
	decor01.style.cssText=`position:absolute;z-index:-3;border-radius:500px;background:#E7CDFC;height:103px;width:103px;left:calc(50% + (1558px - 970px + 52px));top:627px;opacity:30%;`
	decor01 = document.createElement("div");
	bkgr.append(decor01);
	decor01.style.cssText=`position:absolute;z-index:-3;border-radius:500px;background:#E7CDFC;height:103px;width:103px;left:calc(50% + (1858px - 970px + 52px));top:580px;opacity:30%;`
	decor01 = document.createElement("div");
	bkgr.append(decor01);
	decor01.style.cssText=`position:absolute;z-index:-3;border-radius:500px;background:#5531D2;height:60px;width:60px;left:calc(50% + (1752px - 970px + 30px));top:364px;opacity:30%;`
	decor01 = document.createElement("div");
	bkgr.append(decor01);
	decor01.style.cssText=`position:absolute;z-index:-3;border-radius:500px;background:#5531D2;height:60px;width:60px;left:calc(50% + (1035px - 970px + 30px));top:358px;opacity:30%;`
}
//21
bkgr = document.querySelector(".Consult>div");
if (bkgr) {
	decor01 = document.createElement("div");
	bkgr.append(decor01);
	decor01.style.cssText=`position:absolute;z-index:-3;border-radius:500px;background:#C5A6FD;height:132px;width:132px;left:124px;top:20px;opacity:10%;`
	decor01 = document.createElement("div");
	bkgr.append(decor01);
	decor01.style.cssText=`position:absolute;z-index:-3;border-radius:500px;background:#C5A6FD;height:94px;width:94px;left:252px;top:420px;opacity:10%;`
	decor01 = document.createElement("div");
	bkgr.append(decor01);
	decor01.style.cssText=`position:absolute;z-index:-3;border-radius:20px;border:4px solid #9E00FF;height:70px;width:254px;left:-54px;top:445px;transform:rotate(-15deg);opacity:40%;`
	decor01 = document.createElement("div");
	bkgr.append(decor01);
	decor01.style.cssText=`position:absolute;z-index:-3;border-radius:20px;border:4px solid #E7CDFC;height:70px;width:254px;left:-34px;top:245px;transform:rotate(-15deg);opacity:40%;`
	decor01 = document.createElement("div");
	bkgr.append(decor01);
	decor01.style.cssText=`position:absolute;z-index:-3;border-radius:20px;background:#E7CDFC;height:70px;width:254px;right:-74px;top:285px;transform:rotate(-15deg);opacity:40%;`
	decor01 = document.createElement("div");
	bkgr.append(decor01);
	decor01.style.cssText=`position:absolute;z-index:-3;border-radius:20px;background:#E7CDFC;height:70px;width:254px;right:-54px;top:485px;transform:rotate(-15deg);opacity:40%;`
	decor01 = document.createElement("div");
	bkgr.append(decor01);
	decor01.style.cssText=`position:absolute;z-index:-3;border-radius:500px;background:#9E00FF;height:176px;width:176px;left:122px;top:620px;opacity:30%;`
}
//11 - 13
bkgr = document.querySelector(".ourWarr");
if (bkgr) {
	decor01 = document.createElement("div");
	bkgr.append(decor01);
	decor01.style.cssText=`position:absolute;z-index:-3;border-radius:500px;background:#C5A6FD;height:484px;width:484px;opacity:10%;left:-172px;top:229px;`
	decor01 = document.createElement("div");
	bkgr.append(decor01);
	decor01.style.cssText=`position:absolute;z-index:-3;border-radius:20px;background:#E7CDFC;height:70px;width:254px;right:-44px;top:175px;transform:rotate(-15deg);`
	decor01 = document.createElement("div");
	bkgr.append(decor01);
	decor01.style.cssText=`position:absolute;z-index:-3;border-radius:20px;border:4px solid #E7CDFC;height:70px;width:254px;right:-104px;top:365px;transform:rotate(-15deg);`
}
bkgr = document.querySelector("footer");
if (bkgr) {
	decor01 = document.createElement("div");
	bkgr.append(decor01);
	decor01.style.cssText=`position:absolute;z-index:-3;border-radius:20px;border:4px solid #E7CDFC;height:70px;width:306px;left:-163px;top:190px;opacity:20%;transform:rotate(-15deg);`
	decor01 = document.createElement("div");
	bkgr.append(decor01);
	decor01.style.cssText=`position:absolute;z-index:-3;border-radius:20px;background:#E7CDFC;height:70px;width:306px;left:-163px;top:446px;opacity:20%;transform:rotate(-15deg);`
	decor01 = document.createElement("div");
	bkgr.append(decor01);
	decor01.style.cssText=`position:absolute;z-index:-3;border-radius:500px;background:#E7CDFC;height:103px;width:103px;opacity:30%;right:44px;top:305px;`
	decor01 = document.createElement("div");
	bkgr.append(decor01);
	decor01.style.cssText=`position:absolute;z-index:-3;border-radius:500px;background:#E7CDFC;height:103px;width:103px;opacity:30%;right:422px;bottom:-55px;`
	decor01 = document.createElement("div");
	bkgr.append(decor01);
	decor01.style.cssText=`position:absolute;z-index:-3;border-radius:500px;background:#5531D2;height:60px;width:60px;opacity:30%;right:322px;top:278px;`
}


let wrap0 = document.querySelector(".wrap0");
let scrltop = 0;
bkgr = document.querySelector(".comprCode");
//8 - 11
if (bkgr) {
	scrltop = window.pageYOffset + bkgr.getBoundingClientRect().top;
	decor01 = document.createElement("div");
	wrap0.append(decor01);
	decor01.style.cssText=`position:absolute;z-index:-3;border-radius:500px;background:#5531D2;height:365px;width:365px;opacity:10%;left:-182px;`
	decor01.style.top= scrltop + 450 +`px`;
	decor01 = document.createElement("div");
	wrap0.append(decor01);
	decor01.style.cssText=`position:absolute;z-index:-3;border-radius:20px;border:4px solid #9E00FF;height:70px;width:254px;right:-50px;transform:rotate(-15deg);`
	decor01.style.top= scrltop + 70 +`px`;
	decor01 = document.createElement("div");
	wrap0.append(decor01);
	decor01.style.cssText=`position:absolute;z-index:-3;border-radius:20px;border:4px solid #43CDD7;height:70px;width:254px;right:20px;transform:rotate(-15deg);`
	decor01.style.top= scrltop + 314 +`px`;
	decor01 = document.createElement("div");
	wrap0.append(decor01);
	decor01.style.cssText=`position:absolute;z-index:-3;border-radius:20px;background:#5531D2;height:70px;width:254px;right:-40px;transform:rotate(-15deg);`
	decor01.style.top= scrltop + 450 +`px`;
}

//14
bkgr = document.querySelector(".FAQ");
if (bkgr) {
	scrltop = window.pageYOffset + bkgr.getBoundingClientRect().top;
	decor01 = document.createElement("div");
	wrap0.append(decor01);
	decor01.style.cssText=`position:absolute;z-index:-3;border-radius:500px;background:#C5A6FD;height:563px;width:563px;opacity:10%;right:-260px;`
	decor01.style.top= scrltop + 59 +`px`;
	//15 - 18
	decor01 = document.createElement("div");
	wrap0.append(decor01);
	decor01.style.cssText=`position:absolute;z-index:-3;border-radius:20px;background:#E7CDFC;height:70px;width:254px;left:-100px;transform:rotate(-15deg);`
	decor01.style.top= scrltop + 480 +`px`;
	decor01 = document.createElement("div");
	wrap0.append(decor01);
	decor01.style.cssText=`position:absolute;z-index:-3;border-radius:20px;border:4px solid #43CDD7;height:70px;width:254px;left:-170px;transform:rotate(-15deg);`
	decor01.style.top= scrltop + 710 +`px`;
	decor01 = document.createElement("div");
	wrap0.append(decor01);
	decor01.style.cssText=`position:absolute;z-index:-3;border-radius:20px;background:#5531D2;height:70px;width:254px;left:-40px;transform:rotate(-15deg);`
	decor01.style.top= scrltop + 860 +`px`;
}
//18 - 21
bkgr = document.querySelector(".WhoN");
if (bkgr) {
	scrltop = window.pageYOffset + bkgr.getBoundingClientRect().top;
	decor01 = document.createElement("div");
	wrap0.append(decor01);
	decor01.style.cssText=`position:absolute;z-index:-3;border-radius:20px;background:#E7CDFC;height:70px;width:254px;right:-50px;transform:rotate(-15deg);`
	decor01.style.top= scrltop + 53 +`px`;
	decor01 = document.createElement("div");
	wrap0.append(decor01);
	decor01.style.cssText=`position:absolute;z-index:-3;border-radius:20px;background:#C5A6FD;height:70px;width:254px;right:-120px;transform:rotate(-15deg);`
	decor01.style.top= scrltop + 589 +`px`;
	decor01 = document.createElement("div");
	wrap0.append(decor01);
	decor01.style.cssText=`position:absolute;z-index:-3;border-radius:20px;border:4px solid #E7CDFC;height:70px;width:254px;right:-24px;transform:rotate(-15deg);`
	decor01.style.top= scrltop + 759 +`px`;
}	


bkgr = document.querySelector(".bgDecor01");
//8 - 11
if (bkgr) {
	scrltop = window.pageYOffset + bkgr.getBoundingClientRect().top;
	decor01 = document.createElement("div");
	wrap0.append(decor01);
	decor01.style.cssText=`position:absolute;z-index:-3;border-radius:500px;background:#5531D2;height:365px;width:365px;opacity:10%;left:-182px;top:150px;`
	decor01.style.top= scrltop + 150 +`px`;
	decor01 = document.createElement("div");
	wrap0.append(decor01);
	decor01.style.cssText=`position:absolute;z-index:-3;border-radius:20px;border:4px solid #9E00FF;height:70px;width:254px;right:-180px;top:70px;transform:rotate(-15deg);`
	decor01.style.top= scrltop + 70 +`px`;
	decor01 = document.createElement("div");
	wrap0.append(decor01);
	decor01.style.cssText=`position:absolute;z-index:-3;border-radius:20px;border:4px solid #43CDD7;height:70px;width:254px;right:40px;top:314px;transform:rotate(-15deg);`
	decor01.style.top= scrltop + 314 +`px`;
	decor01 = document.createElement("div");
	wrap0.append(decor01);
	decor01.style.cssText=`position:absolute;z-index:-3;border-radius:20px;background:#5531D2;height:70px;width:254px;right:-170px;top:450px;transform:rotate(-15deg);`
	decor01.style.top= scrltop + 450 +`px`;
	decor01 = document.createElement("div");
	wrap0.append(decor01);
	decor01.style.cssText=`position:absolute;z-index:-3;border-radius:500px;background:#C5A6FD;height:563px;width:563px;opacity:10%;right:-260px;top:959px;`
	decor01.style.top= scrltop + 959 +`px`;
}
bkgr = document.querySelector(".inInet");
if (bkgr) {
	scrltop = window.pageYOffset + bkgr.getBoundingClientRect().top;
	decor01 = document.createElement("div");
	wrap0.append(decor01);
	decor01.style.cssText=`position:absolute;z-index:-3;border-radius:500px;background:#E7CDFC;height:477px;width:477px;opacity:20%;right:-182px;top:250px;`
	decor01.style.top= scrltop - 450 +`px`;
}


let HScrol = document.querySelectorAll(".HScrol");
if (HScrol){
	for (let i = 0; i < HScrol.length; i++) {
		if (document.documentElement.clientWidth < 1150) {
			let scrlCont = HScrol[i].querySelector(".scrlCont");
			let nStep = Math.round(scrlCont.scrollWidth/scrlCont.clientWidth);//кол-во шагов скролла
			if (nStep>1) {
				function swButt() { //переключение индикаторных кнопок - вызывается при скролле
					let tmp = Math.round(scrlCont.scrollLeft/scrlCont.clientWidth);
					let rBut = HScrol[i].querySelectorAll(".rButtCont>div");
					for (let i = 0; i < rBut.length; i++) {
						if (i==tmp) {rBut[i].className = 'On';}else{rBut[i].className = '';}	}	}
				let nDiv = document.createElement("div"); //генерация индикаторных кнопок
				nDiv.className = 'rButtCont';
				scrlCont.after(nDiv);
				let rButtCont = HScrol[i].querySelector(".rButtCont");
				for (let j = 0; j < nStep; j++) {
					nDiv = document.createElement("div");
					rButtCont.append(nDiv);	}
				scrlCont.addEventListener('scroll', function() { swButt();	});
				swButt();	}	}	}	}



//раскрывающиеся списки FAQ ------------

let FAQ = document.querySelectorAll(".FAQ");
for (let i = 0; i < FAQ.length; i++) {
	let qAns = FAQ[i].querySelectorAll(".qAns");
	for (let i = 0; i < qAns.length; i++) {
		let Que = qAns[i].querySelector(".Que");
		let Ans = qAns[i].querySelector(".Ans");
		let wrapArr = document.createElement("div");
		wrapArr.className = 'wrapArr';
		qAns[i].append(wrapArr);
		let heigOn = Ans.clientHeight + Ans.clientHeight*0.07;
		Ans.style.height = "0";
		Ans.style.opacity = '0';
		Ans.style.padding = "0 17px";
		
		qAns[i].onclick = function() {
			wrapArr.classList.toggle("ArrUp");
			if (wrapArr.classList.contains("ArrUp")) {
				Que.style.background = '#C5A6FD';
				Que.style.color = 'white';
				Que.style.borderRadius = '10px 10px 0 0';
				Ans.style.padding = null;
				Ans.style.height = heigOn + 'px';
				Ans.style.opacity = '1';
			} else {
				Ans.style.height = "0";
				Ans.style.padding = "0 17px";
				Ans.style.opacity = '0';
				Que.style.background = null
				Que.style.color = null;
				Que.style.borderRadius = null;	}	}	}	}
//---------------раскрывающиеся списки FAQ

//закрашивание звезд---------------
let stars = document.querySelectorAll(".stars");
for (let i = 0; i < stars.length; i++) {
	let prnNod = stars[i].parentElement;
	let score = prnNod.querySelector(".score");
	score = (Number(score.innerHTML.replace(',','.')));
	let intScore = Math.trunc(score);
	let fraScore = score - intScore;
	for (let j = 0; j < 5; j++) {
		let grayStar = document.createElement("div");
		stars[i].append(grayStar);
		
		if (intScore>-1) {
			let filStar = document.createElement("div");
			grayStar.append(filStar);
			if (intScore==0) {
				fraScore = fraScore * 14;
				filStar.style.cssText=`width:`+fraScore+`px;`;
			}
			
			--intScore;
		}
	}
	
}
//---------------закрашивание звезд

//копирование из хедера в футер---------------
let tmp = document.querySelector("header .topMenu");
let Cont2 = document.querySelector("footer .Cont2");
if (tmp&&Cont2) {
	tmp = tmp.cloneNode(true);
	tmp.classList.remove("rowDiv");
	Cont2.append(tmp);	}

tmp = document.querySelector("header .logoDiv");
let Cont1 = document.querySelector("footer .Cont1");
if (tmp&&Cont1) {
	tmp = tmp.cloneNode(true);
	Cont1.append(tmp);}

tmp = document.querySelector("header .midMenu>div:nth-child(3)>a");
if (tmp&&Cont1) {
	tmp = tmp.cloneNode(true);
	Cont1.append(tmp);
	tmp.style.marginTop="46px";	}

tmp = document.querySelector("header .midMenu>div:nth-child(2)>div:nth-child(1)>a");
if (tmp&&Cont1) {
	tmp = tmp.cloneNode(true);
	Cont1.append(tmp);
	tmp.style.marginTop="8px";	}

tmp = document.querySelector("header .midMenu>div:nth-child(2)>div:nth-child(2)>a");
if (tmp&&Cont1) {
	tmp = tmp.cloneNode(true);
	Cont1.append(tmp);
	tmp.style.marginTop="8px"; }
//---------------копирование из хедера в футер

//мобильное меню---------------
if (document.documentElement.clientWidth < 600) {
	let mobMenu = document.querySelector("header .mobMenu");
	let burgerMenu = document.querySelector(".burgerMenu");
	let burger = mobMenu.querySelector(".rTopCor");
	let cross = burgerMenu.querySelector(".rTopCor");

	let topMenu = document.querySelector("header .topMenu");
	let midMenu = document.querySelector("header .midMenu");
	let bottomMenu = document.querySelector("header .bottomMenu");
	let tmp = midMenu.querySelector(".logoDiv");
	tmp = tmp.cloneNode(true);
	mobMenu.prepend(tmp);
	tmp = tmp.cloneNode(true);
	burgerMenu.prepend(tmp);
	mobMenu.style.display = 'inline-block';
	topMenu.style.display = 'none';
	midMenu.style.display = 'none';
	bottomMenu.style.display = 'none';
	
	tmp = midMenu.querySelector(".midMenu>div:nth-child(2)>div:nth-child(1)");
	tmp = tmp.cloneNode(true);
	burgerMenu.append(tmp);
	tmp = midMenu.querySelector(".midMenu>div:nth-child(2)>div:nth-child(2)");
	tmp = tmp.cloneNode(true);	
	burgerMenu.append(tmp);
	tmp = midMenu.querySelector(".midMenu>div:nth-child(3)>*:nth-child(1)");
	tmp = tmp.cloneNode(true);	
	burgerMenu.append(tmp);
	tmp = midMenu.querySelector(".midMenu>div:nth-child(3)>*:nth-child(2)");
	tmp = tmp.cloneNode(true);	
	burgerMenu.append(tmp);
	let Cont2 = document.querySelector("footer .Cont2");
	Cont2 = Cont2.cloneNode(true);	
	burgerMenu.append(Cont2);
	let Cont3 = document.querySelector("footer .Cont3");
	Cont3 = Cont3.cloneNode(true);	
	burgerMenu.append(Cont3);
	tmp = midMenu.querySelector(".midMenu .paleBtn");
	tmp = tmp.cloneNode(true);	
	burgerMenu.append(tmp);
	
	burgerMenu.style.transform = 'scaleY(0)';
	burgerMenu.style.transformOrigin = 'top';
	burgerMenu.style.opacity = '0'; 	
	
	burger.onclick = function() {
		burgerMenu.style.display = 'block';
		setTimeout(function(){	burgerMenu.style.transform = null;	burgerMenu.style.opacity = null; }, 1);
	}
	burgerMenu.addEventListener("click", function(){
		burgerMenu.style.transform = 'scaleY(0)';
		burgerMenu.style.opacity = '0'; 	
		setTimeout(function(){	burgerMenu.style.display = 'none';	}, 300);
	});
}
//---------------мобильное меню

//видеорамка---------------
let videoFrm = document.querySelectorAll(".videoFrm");
for (let i = 0; i < videoFrm.length; i++) {
	let playIcon = videoFrm[i].querySelector(".playIcon");
	let videoCont = videoFrm[i].querySelector(".videoCont");
	playIcon.onclick = function() {
		videoCont.play();
		videoCont.controls = true;	}
	videoCont.addEventListener("play", function(){
		playIcon.style.opacity = '0';
		setTimeout(function(){	playIcon.style.visibility = 'hidden'; }, 1);
		videoCont.focus();
		videoCont.controls = true;	});
	videoCont.addEventListener("pause", function(){
		playIcon.style.visibility = 'visible';
		setTimeout(function(){	playIcon.style.opacity = '1'; }, 1);	});	
}
//---------------видеорамка

//текст с разворотом---------------
let clipTxt = document.querySelectorAll(".clipTxt");
for (let i = 0; i < clipTxt.length; i++) {
	if (clipTxt[i].clientHeight<clipTxt[i].scrollHeight) {
		let fadeBott = document.createElement("div");
		clipTxt[i].append(fadeBott);
		clipTxt[i].style.cssText=`position:relative;`;
		fadeBott.style.cssText=`position:absolute;z-index:2;width:100%;height:3em;left:0;bottom:0;`;
		fadeBott.style.background = 'linear-gradient(180deg, transparent 0%, ' + getComputedStyle(clipTxt[i].parentElement).backgroundColor + ' 35%)';
		let butTxt = document.createElement("div");
		clipTxt[i].append(butTxt);
		butTxt.style.cssText=`position:absolute;z-index:3;width:15em;height:1.5em;right:0;bottom:0;padding-right:2em;text-align:right;`;
		butTxt.innerHTML="... <span>читать полностью!<span>";
		butTxt.style.cursor = "pointer";
		let openFlag = false;
		butTxt.onclick = function() {
			if (openFlag) {
				clipTxt[i].style.height = null;
				butTxt.innerHTML="... <span>читать полностью!<span>";
				fadeBott.style.display = null;
				openFlag = false;				
			}else{
				let sumH = clipTxt[i].scrollHeight + 25;
				clipTxt[i].style.height = sumH + 'px';
				butTxt.innerHTML="... <span>скрыть<span>";
				fadeBott.style.display = 'none';
				openFlag = true;	}	}	}	}
//---------------текст с разворотом

let feedBacks = document.querySelector(".feedBacks");
if (feedBacks) {
	let cont = feedBacks.querySelector(".cont");
	let feedBack = cont.querySelectorAll(".feedBack");
	if (feedBack.length>3) {
		let feedbNav = document.createElement("div");
		cont.after(feedbNav);
		feedbNav.classList.add('feedbNav');

		let leftArr = document.createElement("div");
		feedbNav.append(leftArr);
		leftArr.innerHTML="<";
		let rightArr = document.createElement("div");
		feedbNav.append(rightArr);
		rightArr.innerHTML=">";

		let pnt1 = document.createElement("div");
		leftArr.after(pnt1);
		pnt1.innerHTML="1";
		let pntN = document.createElement("div");
		rightArr.before(pntN);
		pntN.innerHTML=feedBack.length;
		
		let qnPnt = Math.trunc((document.documentElement.clientWidth-50) / 40); //количество указателей
		if (qnPnt>10) {qnPnt = 10;} //ограничение количества указателей
		let curN = Math.trunc(feedBack.length/2);
		if (feedBack.length > (qnPnt-2)){ //количество объектов больше количества указателей
			qnPnt = qnPnt-4;
			let ellipL = document.createElement("div");
			pntN.before(ellipL);
			ellipL.innerHTML='...';
			qnPnt = qnPnt-1;
			if (qnPnt>0){
				let ellipR = document.createElement("div");
				pntN.before(ellipR);
				ellipR.innerHTML='...';
				qnPnt = qnPnt-1;
				if (qnPnt>0){
//					let curN = Math.trunc(feedBack.length/2);
					let curPnt2 = document.createElement("div");
					ellipR.before(curPnt2);
					curPnt2.innerHTML=curN;
					qnPnt = qnPnt-1;
					if (qnPnt>0){
						curN = curN-1;
						let curPnt1 = document.createElement("div");
						curPnt2.before(curPnt1);
						curPnt1.innerHTML=curN;
						qnPnt = qnPnt-1;
						if (qnPnt>0){
							curN = curN+2;
							let curPnt3 = document.createElement("div");
							curPnt2.after(curPnt3);
							curPnt3.innerHTML=curN;
							qnPnt = qnPnt-1;
							if (qnPnt>0){
								curN = curN+1;
								let curPnt4 = document.createElement("div");
								curPnt3.after(curPnt4);
								curPnt4.innerHTML=curN;
								qnPnt = qnPnt-1;
								
							}
							
						}
					}
				}
			}
		}else{//количество объектов меньше или равно количеству указателей
			for (let i = 1; i < (feedBack.length-1); i++) {
				let tmpN = document.createElement("div");
				pntN.before(tmpN);
				tmpN.innerHTML=i+1;
			}
			
		}
		curN = 0;
		pnt1.classList.add('marked');
		for (let i = 0; i < feedBack.length; i++) {
			if (i>2){feedBack[i].style.display='none';}
		}
	}
}

